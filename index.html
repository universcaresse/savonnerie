g" class="background-fixe">
    <div class="cadre-blanc-global"></div>

    <button id="btn-burger" onclick="toggleMenu()" class="fixed top-4 left-4 z-[110] bg-transparent text-emerald-900 p-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
    </button>

    <div id="menu-lateral" class="menu-ferme fixed inset-y-0 left-0 w-64 bg-white shadow-2xl p-8 flex flex-col gap-6">
        <button onclick="toggleMenu()" class="self-end text-slate-400 text-2xl">&times;</button>
        <h2 class="font-bold text-emerald-800 border-b pb-2 italic">MENU</h2>
        <nav class="flex flex-col gap-4">
            <button onclick="changerPage('page-accueil')" class="text-left font-semibold uppercase">üè† Accueil</button>
            <button onclick="changerPage('page-inventaire')" class="text-left font-semibold uppercase">üåø Ingr√©dients</button>
            <button onclick="changerPage('page-savons')" class="text-left font-semibold uppercase">üßº Liste des Savons</button>
        </nav>
    </div>

    <div id="page-accueil" class="page-section min-h-screen flex flex-col items-center justify-center relative">
        <img src="Logo%20final.png" alt="Logo" class="w-64 h-auto mb-10">
        <button onclick="changerPage('page-inventaire')" class="bg-emerald-800 text-white px-10 py-4 font-bold">ENTRER</button>
    </div>

    <div id="page-inventaire" class="page-section hidden min-h-screen flex flex-col pt-32 text-center">
        <h1 class="font-bold uppercase tracking-[0.2em] text-emerald-900 mb-4">Ingr√©dients</h1>
        <div id="loading-ing" class="italic text-xs">Chargement...</div>
        <div id="conteneur-ingredients" class="p-4 space-y-2 overflow-y-auto max-w-md mx-auto" style="max-height: 55vh;"></div>
    </div>

    <div id="page-savons" class="page-section hidden min-h-screen flex flex-col pt-32 text-center">
        <h1 class="font-bold uppercase tracking-[0.2em] text-emerald-900 mb-2">Liste des Savons</h1>
        <button onclick="ajouterSavon()" class="mb-4 text-[10px] bg-emerald-700 text-white px-4 py-1 mx-auto block uppercase font-bold"> + Ajouter un savon</button>
        
        <div id="loading-savons" class="italic text-xs">Chargement...</div>
        <div id="conteneur-savons" class="p-4 space-y-2 overflow-y-auto max-w-md mx-auto" style="max-height: 50vh;"></div>
    </div>

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbyO4ynQQRo8nxqRBSdGd0D7CgwEUbuqkVjpC8XKp-Ymn5doYXbzXpilCHLPtBlhDMD1/exec";

        function toggleMenu() {
            const menu = document.getElementById('menu-lateral');
            menu.classList.toggle('menu-ferme');
            menu.classList.toggle('menu-ouvert');
        }

        function changerPage(idPage) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.add('hidden'));
            document.getElementById(idPage).classList.remove('hidden');
            if (idPage === 'page-inventaire') chargerIngredients();
            if (idPage === 'page-savons') chargerSavons();
            toggleMenu();
        }

        // --- LOGIQUE INGR√âDIENTS ---
        async function chargerIngredients() {
            const conteneur = document.getElementById('conteneur-ingredients');
            document.getElementById('loading-ing').style.display = "block";
            try {
                const response = await fetch(API_URL + "?action=getIngredients");
                const data = await response.json();
                conteneur.innerHTML = "";
                document.getElementById('loading-ing').style.display = "none";
                data.forEach(item => {
                    const div = document.createElement('div');
                    div.className = "bg-white/50 p-3 flex justify-between items-center text-sm border-b border-emerald-900/5";
                    div.innerHTML = `<span>${item.Nom}</span><span class="font-bold">${item["Quantit√© en Stock (g)"]}g</span>`;
                    conteneur.appendChild(div);
                });
            } catch (e) { console.error(e); }
        }

        // --- LOGIQUE SAVONS (LECTURE) ---
        async function chargerSavons() {
            const conteneur = document.getElementById('conteneur-savons');
            document.getElementById('loading-savons').style.display = "block";
            try {
                const response = await fetch(API_URL + "?action=getSavons");
                const data = await response.json();
                conteneur.innerHTML = "";
                document.getElementById('loading-savons').style.display = "none";
                data.forEach(savon => {
                    const div = document.createElement('div');
                    div.className = "bg-white/60 p-3 flex justify-between items-center text-sm border border-emerald-900/10";
                    div.innerHTML = `
                        <div class="text-left"><p class="font-bold">${savon.Nom}</p><p class="text-[9px] uppercase">${savon.Type || 'Savon'}</p></div>
                        <div class="flex gap-2">
                            <button onclick="modifierSavon(${savon.row})" class="text-blue-600 text-xs uppercase font-bold">√âditer</button>
                            <button onclick="supprimerSavon(${savon.row}, '${savon.Nom}')" class="text-rose-600 text-xs uppercase font-bold">Suppr.</button>
                        </div>
                    `;
                    conteneur.appendChild(div);
                });
            } catch (e) { console.error(e); }
        }

        function supprimerSavon(row, nom) {
            if (confirm(`‚ö†Ô∏è ATTENTION : Voulez-vous vraiment supprimer le savon "${nom}" ?`)) {
                // Ici on appellera la fonction de suppression dans le Code.gs
                alert("Suppression de la ligne " + row);
            }
        }

        function modifierSavon(row) { alert("Modification de la ligne " + row); }
        function ajouterSavon() { alert("Ajouter un nouveau savon"); }
    </script>
</body>
</html>




